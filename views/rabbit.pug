extends layout

block content
  h1= title
  p welcome to rabbit pug
  div(class="container-fluid")
        div(class="row")
            -
                let rabbit = results

  div(class="container-fluid")
    div(class="row m-1")
        each item in rabbit
            - let destination = `dispatch(\"/rabbit/update?id=${item._id}\")`
            div(class="row-sm-2", class="m-1") rabbit #{item.age}(#{item.weight}) is #{item.color}
                button.btn( class="btn-primary ml-1", onclick= destination) Update

            each v,items in rabbit
                div(class="col-sm-2" onclick=`buy(${items})`) #{v.age}
                div(class="col-sm-2" onclick=`buy(${items})`) #{v.color}
                div(class="col-sm-2" onclick=`buy(${items})`) #{v.weight} 

        

  script.
    function buy(itemNo)
    {
        alert(`you purchased Item ${itemNo+1}`)
     }

  script.
    function dispatch(path)
    {
        window.location.href=path
    }